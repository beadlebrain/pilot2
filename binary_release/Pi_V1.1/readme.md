#这是啥？
这是给Pi的一个新的飞控固件，他修正了原有的Pi的一些问题，提高了飞行稳定性和抗干扰性，并添加了少量新功能。

#怎么用？
您需要准备一个MicroSD卡读卡器，揭开Pi电池下的贴纸（注意不要损坏条形码哦）（TODO：图），将MicroSD卡拿出并用读卡器接到电脑上，讲Firmware.yap复制到MicroSD卡的根目录，放回即可，开机后可见到固件更新的尾灯闪烁（TODO：GIF），若未见到请确认MicroSD卡接触良好并重复以上动作一次。


#FAQ
##更新后为什么不能起飞了？尾灯红黄交替闪烁？
这是磁干扰指示灯：尾灯红黄交替时为检测到磁干扰，此时将禁止起飞，请离开干扰源并考虑校准罗盘，飞行中遇到时请谨慎飞行并飞离干扰源。

##更新内容中那些需要更新app的功能，什么时候才有更新的app？
这个……

##改了啥？
综合：
添加了一个光流启用指示灯：尾灯闪烁为一绿一黄双闪时为光流启动。

添加了一个磁干扰指示灯：尾灯红黄交替时为检测到磁干扰，此时将禁止起飞，请离开干扰源并考虑校准罗盘，飞行中遇到时请谨慎飞行并飞离干扰源。

添加了一个光流硬件故障指示灯：开机后尾灯白灯连续闪烁10次为光流硬件故障指示。

添加了日本手模式支持(需要更新app)。

添加了一个“自拍”模式(需要更新app)。

添加了一键翻滚功能(需要更新app)。

自动起飞变流畅了。

修正飞控数据记录SD卡内记录数过多时开机变慢的问题。

支持从App更新飞控固件。


数据融合：

重构了系统传感器融合算法。提升了悬停时的稳定度、精度，提高抗风能力，提升转航向时的稳定度，提升大机动过后的稳定速度，降低GPS信号弱时出现漂移的概率和程度，降低传感器因温度变化而产生的漂移影响。


姿态与位置控制：

增强稳定性，改善剧烈动作与刹车时的抖动和过度倾斜。

改善起飞时前冲问题。

改善在重负载时电机输出饱时的姿态抖动。

改善自动刹车动作，现在更柔和更精准。

GPS模式下打杆时添加了一个侧风补偿用以补偿强风下打杆走不直的现象。

修正了App意外发送非法的操作指令时可能会造成摔机的问题。


返航：

现在返航到返航点之后会悬停2秒后开始降落（之前为10秒）

修正了返航过程中将油门拉至最低位有小概率造成摔机的问题。

修正了返航触发时有小概率离返航点很近也会先升高到返航高度而不是直接返航的问题。

增强了返航过程中GPS信号丢失的处理：返航过程中GPS信号丢失时，若遥控器或APP已连接，会切换回手动控制模式，若无连接，则会在GPS信号恢复后重新进行返航，GPS恢复前则会进行降落。


## More？
